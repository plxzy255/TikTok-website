<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Status Checker</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #19376d;
            color: white;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            background-color: #1e4a72;
            border-radius: 10px;
        }
        input, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: none;
        }
        button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        input, button {
            max-width: 540px; /* Adjust this value as needed */
            padding: 10px;
            margin: 10px auto; /* Updated this line */
            display: block; /* Added this line */
            border-radius: 5px;
            border: none;
            box-sizing: border-box; /* Added this line */
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="container">
    <h1>Check Your Task Status</h1>
    <form id="invoiceCheckForm">
        <label for="InvoiceId">Enter your Invoice ID:</label>
        <input type="text" id="InvoiceId" name="InvoiceId">
        <button type="submit">Check Status</button>
    </form>
</div>
<div id="statusMessage"></div>

<script>
    $(document).ready(function() {
        $('#invoiceCheckForm').on('submit', function(e) {
            e.preventDefault();
            var invoiceId = $('#InvoiceId').val(); // Ensure this matches the ID of your input element
            $.get('https://tiktok3928-90a2919b7f98.herokuapp.com/checkInvoice/' + invoiceId, function(data) {
                var message = `Invoice ID: ${data.InvoiceId}<br>
                               Created At: ${data.CreatedAt}<br>
                               Quantity: ${data.Quantity}<br>
                               Target URL: ${data.target_url}<br>
                               Views Sent: ${data.views_sent}`;
                $('#statusMessage').html(message);
            }).fail(function(jqXHR) {
                if (jqXHR.status === 404) {
                    $('#statusMessage').text('Invoice ID not found.');
                } else {
                    $('#statusMessage').text('Error occurred while checking the status.');
                }
            });
        });
    });
</script>

</body>
</html>
